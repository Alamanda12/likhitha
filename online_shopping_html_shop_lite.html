<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ShopLite ‚Äî Online Shopping Demo</title>
  <style>
    :root {
      --bg: #0b0f14;
      --card: #111826;
      --muted: #94a3b8;
      --text: #e5e7eb;
      --brand: #7c3aed;
      --brand-2: #06b6d4;
      --accent: #22c55e;
      --danger: #ef4444;
      --ring: rgba(124, 58, 237, 0.35);
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --radius: 18px;
    }
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      background: linear-gradient(180deg, #0b0f14, #0e141b 20%, #0b0f14 100%);
      color: var(--text);
      letter-spacing: .2px;
    }
    a { color: inherit; text-decoration: none; }
    .container { width: min(1200px, 92vw); margin: 0 auto; }

    /* Header */
    header {
      position: sticky; top: 0; z-index: 10;
      background: rgba(11,15,20,0.8); backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(148,163,184,0.08);
    }
    .nav {
      display: grid; grid-template-columns: 1fr auto 1fr; align-items: center; gap: 12px;
      padding: 16px 0;
    }
    .brand { display: flex; align-items: center; gap: 10px; font-weight: 800; }
    .logo {
      width: 36px; height: 36px; display: grid; place-items: center; border-radius: 10px;
      background: conic-gradient(from 210deg, var(--brand), var(--brand-2));
      box-shadow: var(--shadow);
    }
    .brand span { background: linear-gradient(90deg, #fff, #c4b5fd, #a5f3fc); -webkit-background-clip: text; color: transparent; font-size: 1.15rem; }

    .actions { display: flex; justify-content: flex-end; gap: 8px; }
    .btn {
      border: 1px solid rgba(148,163,184,0.18);
      background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.01));
      color: var(--text); padding: 10px 14px; border-radius: 999px; cursor: pointer;
      display: inline-flex; gap: 8px; align-items: center; transition: .2s ease; font-weight: 600;
    }
    .btn:hover { transform: translateY(-1px); border-color: rgba(124,58,237,.45); box-shadow: 0 5px 20px rgba(124,58,237,.2); }
    .btn.primary { background: linear-gradient(90deg, var(--brand), var(--brand-2)); border: none; }

    /* Controls */
    .controls { display: grid; grid-template-columns: 1.2fr .6fr .6fr auto; gap: 12px; align-items: center; margin: 22px 0 10px; }
    .input, .select {
      background: var(--card);
      border: 1px solid rgba(148,163,184,0.18);
      color: var(--text);
      padding: 12px 14px; border-radius: 12px; outline: none; width: 100%;
      transition: border .15s ease, box-shadow .15s ease;
    }
    .input:focus, .select:focus { border-color: var(--brand); box-shadow: 0 0 0 6px var(--ring); }

    /* Grid */
    .grid { display: grid; grid-template-columns: repeat(4,1fr); gap: 16px; padding-bottom: 40px; }
    @media (max-width: 1100px) { .grid { grid-template-columns: repeat(3,1fr);} }
    @media (max-width: 820px) { .grid { grid-template-columns: repeat(2,1fr);} .controls { grid-template-columns: 1fr 1fr; } }
    @media (max-width: 520px) { .grid { grid-template-columns: 1fr;} .nav { grid-template-columns: auto 1fr auto; } }

    .card {
      background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
      border: 1px solid rgba(148,163,184,0.14);
      border-radius: var(--radius);
      overflow: hidden;
      box-shadow: var(--shadow);
      display: flex; flex-direction: column;
    }
    .thumb { aspect-ratio: 4/3; background: #0f172a; position: relative; }
    .thumb img { width: 100%; height: 100%; object-fit: cover; display:block; }
    .badge { position: absolute; top: 10px; left: 10px; background: rgba(34,197,94,.9); color: #04110a; font-weight: 800; font-size: .78rem; padding: 6px 10px; border-radius: 999px; }
    .content { padding: 14px; display: grid; gap: 10px; }
    .title { font-weight: 700; font-size: 1rem; line-height: 1.3; }
    .muted { color: var(--muted); font-size: .92rem; }
    .price { display: flex; align-items: baseline; gap: 8px; }
    .price .now { font-size: 1.15rem; font-weight: 800; }
    .price .was { text-decoration: line-through; color: var(--muted); font-size: .92rem; }
    .row { display: flex; gap: 8px; align-items: center; justify-content: space-between; }
    .qty { display: inline-flex; align-items: center; border: 1px solid rgba(148,163,184,.18); border-radius: 12px; overflow: hidden; }
    .qty button { background: transparent; color: var(--text); border: 0; padding: 8px 10px; cursor: pointer; }

    /* Cart Drawer */
    .drawer {
      position: fixed; top: 0; right: 0; height: 100%; width: min(420px, 92vw);
      background: rgba(13,18,28,1);
      border-left: 1px solid rgba(148,163,184,.14);
      box-shadow: -30px 0 60px rgba(0,0,0,.35);
      transform: translateX(100%);
      transition: transform .28s ease;
      display: flex; flex-direction: column;
      z-index: 50;
    }
    .drawer.open { transform: translateX(0); }
    .drawer header { position: sticky; top: 0; background: inherit; border-bottom: 1px solid rgba(148,163,184,.14); }
    .drawer h3 { margin: 0; font-size: 1.1rem; }
    .cart-items { flex: 1; overflow: auto; display: grid; gap: 10px; padding: 14px; }
    .cart-item { display: grid; grid-template-columns: 64px 1fr auto; gap: 10px; align-items: center; background: rgba(255,255,255,.02); padding: 10px; border-radius: 12px; }
    .cart-item img { width: 64px; height: 64px; object-fit: cover; border-radius: 10px; }
    .cart-item .name { font-weight: 700; }
    .cart-item .sub { color: var(--muted); font-size: .9rem; }
    .cart-item .remove { background: transparent; border: 0; color: var(--danger); cursor: pointer; font-weight: 700; }

    .totals { border-top: 1px dashed rgba(148,163,184,.2); padding-top: 10px; display: grid; gap: 6px; }
    .totals .line { display: flex; justify-content: space-between; color: var(--muted); }
    .totals .grand { font-weight: 900; color: var(--text); font-size: 1.15rem; }

    /* Footer */
    footer { border-top: 1px solid rgba(148,163,184,.08); color: var(--muted); padding: 24px 0 50px; text-align: center; }

    /* Toast */
    .toast { position: fixed; left: 50%; bottom: 24px; transform: translateX(-50%) translateY(120%);
      background: #101827; border: 1px solid rgba(124,58,237,.35); color: var(--text); padding: 12px 16px; border-radius: 12px; box-shadow: var(--shadow); transition: .25s ease; z-index: 60; }
    .toast.show { transform: translateX(-50%) translateY(0); }
  </style>
</head>
<body>
  <header>
    <div class="container nav">
      <div class="brand">
        <div class="logo" aria-hidden="true">üõçÔ∏è</div>
        <span>ShopLite</span>
      </div>
      <div style="text-align:center; font-weight:700; background:linear-gradient(90deg,#c4b5fd,#a5f3fc); -webkit-background-clip:text; color:transparent;">Online Shopping Demo</div>
      <div class="actions">
        <button class="btn" id="themeToggle" title="Toggle theme">‚òæ Theme</button>
        <button class="btn primary" id="openCart" title="Open cart">üõí Cart <span id="cartCount" style="margin-left:6px; background:#0b1020; padding:.1rem .5rem; border-radius:999px; border:1px solid rgba(255,255,255,.1);">0</span></button>
      </div>
    </div>
  </header>

  <main class="container">
    <section class="controls">
      <input id="search" class="input" placeholder="Search products‚Ä¶ (e.g., headphones)" />
      <select id="category" class="select">
        <option value="all">All Categories</option>
      </select>
      <select id="sort" class="select">
        <option value="featured">Sort: Featured</option>
        <option value="price-asc">Price: Low ‚Üí High</option>
        <option value="price-desc">Price: High ‚Üí Low</option>
        <option value="rating-desc">Rating: High ‚Üí Low</option>
        <option value="newest">Newest</option>
      </select>
      <button class="btn" id="clearFilters">Reset</button>
    </section>

    <section id="grid" class="grid" aria-live="polite"></section>
  </main>

  <aside id="drawer" class="drawer" aria-hidden="true" aria-label="Shopping cart">
    <header style="padding:14px; display:flex; align-items:center; justify-content:space-between;">
      <h3>üõí Your Cart</h3>
      <button class="btn" id="closeCart">‚úï Close</button>
    </header>
    <div class="cart-items" id="cartItems"></div>
    <div style="padding:14px; border-top:1px solid rgba(148,163,184,.14); display:grid; gap:12px;">
      <div class="totals">
        <div class="line"><span>Subtotal</span><strong id="subtotal">$0.00</strong></div>
        <div class="line"><span>Shipping</span><span id="shipping">$6.99</span></div>
        <div class="line"><span>Tax</span><span id="tax">$0.00</span></div>
        <div class="line grand"><span>Total</span><span id="grandTotal">$0.00</span></div>
      </div>
      <button class="btn primary" id="checkout">Checkout</button>
    </div>
  </aside>

  <div id="toast" class="toast" role="status" aria-live="polite">Added to cart</div>

  <footer>
    <div class="container">¬© <span id="year"></span> ShopLite. Demo store ‚Äî no real purchases.
    </div>
  </footer>

  <script>
    // ---- Demo data ---------------------------------------------------------
    const products = [
      {id: 'p1', name: 'Nimbus Wireless Headphones', category: 'Audio', price: 89.99, compareAt: 129.99, rating: 4.6, reviews: 312, image: 'https://picsum.photos/id/180/800/600', badge: '20% OFF', createdAt: '2025-08-01'},
      {id: 'p2', name: 'Aurora Smartwatch S2', category: 'Wearables', price: 149.00, compareAt: 179.00, rating: 4.4, reviews: 188, image: 'https://picsum.photos/id/1060/800/600', badge: 'Bestseller', createdAt: '2025-06-15'},
      {id: 'p3', name: 'Breeze Mini Fan', category: 'Home', price: 24.50, compareAt: 29.99, rating: 4.2, reviews: 654, image: 'https://picsum.photos/id/1069/800/600', badge: 'Hot', createdAt: '2025-05-10'},
      {id: 'p4', name: 'PixelPro 4K Action Cam', category: 'Cameras', price: 199.00, compareAt: 249.00, rating: 4.5, reviews: 91, image: 'https://picsum.photos/id/250/800/600', badge: 'New', createdAt: '2025-08-20'},
      {id: 'p5', name: 'Terra Ceramic Mug Set', category: 'Home', price: 19.99, compareAt: 24.99, rating: 4.0, reviews: 73, image: 'https://picsum.photos/id/159/800/600', badge: 'Eco', createdAt: '2025-03-03'},
      {id: 'p6', name: 'Volt USB-C Power Bank', category: 'Accessories', price: 39.00, compareAt: 49.00, rating: 4.7, reviews: 1023, image: 'https://picsum.photos/id/1080/800/600', badge: 'Top Rated', createdAt: '2025-07-01'},
      {id: 'p7', name: 'Lumen LED Desk Lamp', category: 'Home', price: 34.99, compareAt: 39.99, rating: 4.3, reviews: 205, image: 'https://picsum.photos/id/251/800/600', badge: 'Save 10%', createdAt: '2025-04-22'},
      {id: 'p8', name: 'Cascade Bluetooth Speaker', category: 'Audio', price: 59.99, compareAt: 79.99, rating: 4.5, reviews: 421, image: 'https://picsum.photos/id/82/800/600', badge: 'Limited', createdAt: '2025-08-26'},
      {id: 'p9', name: 'Nova Mechanical Keyboard', category: 'Accessories', price: 89.00, compareAt: 119.00, rating: 4.8, reviews: 877, image: 'https://picsum.photos/id/1062/800/600', badge: 'Editor‚Äôs Pick', createdAt: '2025-07-21'},
      {id: 'p10', name: 'Glide Wireless Mouse', category: 'Accessories', price: 24.99, compareAt: 29.99, rating: 4.1, reviews: 310, image: 'https://picsum.photos/id/1070/800/600', badge: 'Deal', createdAt: '2025-02-11'},
      {id: 'p11', name: 'Zephyr Air Purifier', category: 'Home', price: 129.00, compareAt: 169.00, rating: 4.6, reviews: 189, image: 'https://picsum.photos/id/27/800/600', badge: 'Allergy Season', createdAt: '2025-05-28'},
      {id: 'p12', name: 'Orbit USB-C Hub 8-in-1', category: 'Accessories', price: 54.00, compareAt: 69.00, rating: 4.4, reviews: 480, image: 'https://picsum.photos/id/1059/800/600', badge: 'Pro', createdAt: '2025-06-01'}
    ];

    // ---- State -------------------------------------------------------------
    const fmt = new Intl.NumberFormat(undefined, { style: 'currency', currency: 'USD' });
    const state = {
      query: '',
      category: 'all',
      sort: 'featured',
      cart: JSON.parse(localStorage.getItem('shoplite:cart') || '{}')
    };

    // ---- Utils -------------------------------------------------------------
    const byId = id => document.getElementById(id);
    const el = (tag, cls) => { const e = document.createElement(tag); if (cls) e.className = cls; return e; };
    const saveCart = () => localStorage.setItem('shoplite:cart', JSON.stringify(state.cart));
    const calcTotals = () => {
      const items = Object.entries(state.cart);
      const subtotal = items.reduce((sum,[pid, qty]) => sum + (products.find(p=>p.id===pid)?.price||0)*qty, 0);
      const shipping = items.length ? 6.99 : 0;
      const tax = subtotal * 0.08;
      return { subtotal, shipping, tax, grand: subtotal + shipping + tax };
    };

    // ---- Rendering ---------------------------------------------------------
    function renderCategories() {
      const cats = ['all', ...new Set(products.map(p=>p.category))];
      const sel = byId('category');
      sel.innerHTML = '';
      for (const c of cats) {
        const o = document.createElement('option');
        o.value = c; o.textContent = c === 'all' ? 'All Categories' : c;
        sel.appendChild(o);
      }
      sel.value = state.category;
    }

    function renderProducts() {
      const grid = byId('grid');
      grid.innerHTML = '';
      let list = products
        .filter(p => (state.category==='all' || p.category===state.category))
        .filter(p => p.name.toLowerCase().includes(state.query.toLowerCase()));

      switch (state.sort) {
        case 'price-asc': list.sort((a,b)=>a.price-b.price); break;
        case 'price-desc': list.sort((a,b)=>b.price-a.price); break;
        case 'rating-desc': list.sort((a,b)=>b.rating-a.rating); break;
        case 'newest': list.sort((a,b)=>new Date(b.createdAt)-new Date(a.createdAt)); break;
        default: // featured
          list.sort((a,b)=> b.rating*b.reviews - a.rating*a.reviews);
      }

      for (const p of list) grid.appendChild(productCard(p));

      if (!list.length) {
        const empty = el('div','card');
        empty.style.padding = '24px';
        empty.innerHTML = `<div class="content"><div class="title">No results</div><div class="muted">Try clearing filters or using a different search.</div></div>`;
        grid.appendChild(empty);
      }
    }

    function productCard(p) {
      const card = el('article','card');
      const thumb = el('div','thumb');
      const img = new Image(); img.src = p.image; img.alt = p.name; thumb.appendChild(img);
      const b = el('div','badge'); b.textContent = p.badge; thumb.appendChild(b);
      card.appendChild(thumb);

      const content = el('div','content');
      const title = el('div','title'); title.textContent = p.name; content.appendChild(title);
      const sub = el('div','muted'); sub.textContent = p.category + ' ‚Ä¢ ' + '‚òÖ ' + p.rating + ' ('+p.reviews+')'; content.appendChild(sub);

      const price = el('div','price');
      const now = el('div','now'); now.textContent = fmt.format(p.price);
      const was = el('div','was'); was.textContent = fmt.format(p.compareAt);
      price.append(now, was); content.appendChild(price);

      const row = el('div','row');
      const add = el('button','btn primary'); add.textContent = 'Add to cart';
      add.onclick = ()=> addToCart(p.id, 1);
      const quickQty = el('div','qty');
      const minus = el('button'); minus.textContent = '‚àí'; minus.onclick=()=> addToCart(p.id, -1);
      const count = el('div'); count.style.padding = '0 8px'; count.textContent = state.cart[p.id]||0;
      const plus = el('button'); plus.textContent = '+'; plus.onclick=()=> addToCart(p.id, 1);
      quickQty.append(minus, count, plus);
      row.append(add, quickQty);

      content.appendChild(row);
      card.appendChild(content);

      // keep qty in sync later
      card.dataset.productId = p.id;
      return card;
    }

    function syncQtyBadges() {
      document.querySelectorAll('[data-product-id]').forEach(card=>{
        const id = card.dataset.productId;
        const display = card.querySelector('.qty div');
        if (display) display.textContent = state.cart[id] || 0;
      });
    }

    // ---- Cart --------------------------------------------------------------
    function addToCart(id, delta=1) {
      const cur = state.cart[id] || 0;
      const next = Math.max(0, cur + delta);
      if (next === 0) delete state.cart[id]; else state.cart[id] = next;
      saveCart();
      updateCartUI();
      syncQtyBadges();
      if (delta>0) toast('Added to cart');
    }

    function updateCartUI() {
      const list = byId('cartItems');
      list.innerHTML = '';
      const entries = Object.entries(state.cart);
      byId('cartCount').textContent = entries.reduce((s,[,q])=>s+q,0);

      for (const [pid, qty] of entries) {
        const p = products.find(x=>x.id===pid);
        const item = el('div','cart-item');
        const img = new Image(); img.src = p.image; img.alt = p.name; item.appendChild(img);
        const info = el('div');
        const name = el('div','name'); name.textContent = p.name; info.appendChild(name);
        const sub = el('div','sub'); sub.textContent = `Qty ${qty} ‚Ä¢ ${fmt.format(p.price)} ea`; info.appendChild(sub);
        const controls = el('div'); controls.style.display='grid'; controls.style.gap='6px';
        const inc = el('button','btn'); inc.textContent = '+'; inc.onclick=()=> addToCart(pid, 1);
        const dec = el('button','btn'); dec.textContent = '‚àí'; dec.onclick=()=> addToCart(pid, -1);
        const rem = el('button','remove'); rem.textContent = 'Remove'; rem.onclick=()=> { delete state.cart[pid]; saveCart(); updateCartUI(); syncQtyBadges(); };
        controls.append(inc, dec, rem);
        item.append(info, controls);
        list.appendChild(item);
      }

      const t = calcTotals();
      byId('subtotal').textContent = fmt.format(t.subtotal);
      byId('tax').textContent = fmt.format(t.tax);
      byId('shipping').textContent = fmt.format(t.shipping);
      byId('grandTotal').textContent = fmt.format(t.grand);
    }

    // ---- Drawer & UI -------------------------------------------------------
    const drawer = byId('drawer');
    const openCartBtn = byId('openCart');
    const closeCartBtn = byId('closeCart');

    openCartBtn.onclick = () => { drawer.classList.add('open'); drawer.setAttribute('aria-hidden','false'); };
    closeCartBtn.onclick = () => { drawer.classList.remove('open'); drawer.setAttribute('aria-hidden','true'); };

    // close drawer when clicking outside
    document.addEventListener('click', (e)=>{
      if (!drawer.classList.contains('open')) return;
      const within = drawer.contains(e.target) || openCartBtn.contains(e.target);
      if (!within) closeCartBtn.click();
    });

    // ---- Toast -------------------------------------------------------------
    let toastTimer;
    function toast(msg) {
      const t = byId('toast');
      t.textContent = msg;
      t.classList.add('show');
      clearTimeout(toastTimer);
      toastTimer = setTimeout(()=> t.classList.remove('show'), 1600);
    }

    // ---- Theme toggle (light/dark blend) ----------------------------------
    const themeToggle = byId('themeToggle');
    themeToggle.onclick = () => {
      const dark = getComputedStyle(document.documentElement).getPropertyValue('--bg');
      const isDark = dark.trim() === '#0b0f14';
      if (isDark) {
        document.documentElement.style.setProperty('--bg', '#f8fafc');
        document.documentElement.style.setProperty('--card', '#ffffff');
        document.documentElement.style.setProperty('--text', '#111827');
        document.documentElement.style.setProperty('--muted', '#4b5563');
        document.documentElement.style.setProperty('--shadow', '0 10px 30px rgba(0,0,0,.10)');
      } else {
        document.documentElement.style.setProperty('--bg', '#0b0f14');
        document.documentElement.style.setProperty('--card', '#111826');
        document.documentElement.style.setProperty('--text', '#e5e7eb');
        document.documentElement.style.setProperty('--muted', '#94a3b8');
        document.documentElement.style.setProperty('--shadow', '0 10px 30px rgba(0,0,0,.35)');
      }
    };

    // ---- Controls wiring ---------------------------------------------------
    byId('search').addEventListener('input', e=>{ state.query = e.target.value; renderProducts(); });
    byId('category').addEventListener('change', e=>{ state.category = e.target.value; renderProducts(); });
    byId('sort').addEventListener('change', e=>{ state.sort = e.target.value; renderProducts(); });
    byId('clearFilters').onclick = ()=>{ state.query=''; state.category='all'; state.sort='featured';
      byId('search').value=''; byId('category').value='all'; byId('sort').value='featured'; renderProducts(); };

    // ---- Init --------------------------------------------------------------
    (function init(){
      document.getElementById('year').textContent = new Date().getFullYear();
      renderCategories();
      renderProducts();
      updateCartUI();
    })();

    // ---- Fake checkout -----------------------------------------------------
    document.getElementById('checkout').onclick = () => {
      const { grand } = calcTotals();
      if (grand <= 0) return toast('Your cart is empty');
      toast('Checkout complete! (demo)');
      state.cart = {}; saveCart(); updateCartUI(); syncQtyBadges();
    };
  </script>
</body>
</html>
